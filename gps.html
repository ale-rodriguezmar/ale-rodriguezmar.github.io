<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Prueba AR.js con GPS</title>
  <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
</head>
<body style="margin: 0; overflow: hidden;">
  <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: true; trackingMethod: gps;">
    <!-- Mensaje de carga -->
    <div id="mensaje" style="position: absolute; top: 20px; left: 50%; transform: translateX(-50%);
      background: rgba(0, 0, 0, 0.7); color: white; padding: 10px; border-radius: 5px;">
      Esperando se침al GPS...
    </div>

    <!-- Modelo 3D con coordenadas GPS -->
    <a-entity 
      gltf-model="source/Lamp.glb"
      gps-entity-place="latitude: 40.416775; longitude: -3.703790" 
      scale="3 3 3"
      visible="false"
      id="modelo">
    </a-entity>

    <!-- C치mara con GPS activado -->
    <a-camera gps-camera rotation-reader></a-camera>
  </a-scene>

  <script>
    window.onload = function () {
      navigator.geolocation.watchPosition(
        function (position) {
          document.getElementById("mensaje").innerText = "Ubicaci칩n detectada. Buscando modelo...";
          document.getElementById("modelo").setAttribute("visible", "true");
        },
        function (error) {
          document.getElementById("mensaje").innerText = "Error obteniendo ubicaci칩n: " + error.message;
        },
        { enableHighAccuracy: true }
      );
    };
  </script>
</body>
</html>
